<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
        rel="stylesheet">
    <title>JustCookIT</title>
    <link rel="icon" type="image/x-icon"
        href="https://www.reshot.com/preview-assets/icons/TWD823CXPR/chinese-food-TWD823CXPR.svg">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="JustCookIT">
    <meta property="og:description" content=" Library of dishes from all over the world">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/nktElkin/MKL_web/tree/main">
    <meta property="og:image"
        content="https://www.reshot.com/preview-assets/icons/TWD823CXPR/chinese-food-TWD823CXPR.svg">
</head>

<body>
    <header>
        <div class=" segundo_wrap header__wrapper">
            <div class="header__sections">
                <div class="header__section-upper">
                    <div class="logo">
                        <h1>JustCookIT</h1>
                    </div>
                    <nav aria-label="">
                        <ul>
                            <li><a href="#About_us">About us</a></li>
                            <li><a href="#How_it_works">Easy to start here</a></li>
                            <li><a href="#A_few_more">A few more</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="header-section-slider" itemscope itemtype="https://schema.org/Recipe">
                    <div class="header__areas areas__container">
                        <ul class="areas__slider slider">
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Canadian">Canadian</a>
                            </li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Dutch">Dutch</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Egyptian">Egyptian</a>
                            </li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Filipino">Filipino</a>
                            </li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=French">French</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Greek">Greek</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Indian">Indian</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=American">American</a>
                            </li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=British">British</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Chinese">Chinese</a></li>
                            <li itemprop="recipeCuisine"><a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Croatian">Croatian</a>
                            </li>
                            <li itemprop="recipeCuisine">
                                <a onclick="showFetchedMealsByArea(this.textContent, event)"
                                    href="https://www.themealdb.com/api/json/v1/1/filter.php?a=Russain">Russian</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="wrap">
            <section id="About_us" class="section__container">
                <h1 class="section__title" itemprop="headline">About us</h1>
                <p class="section__text" itemprop="abstract">
                    We are <span class="section__text-accent"><a href="#links_to_us">3 students</a></span> of the 2nd
                    year <span class="section__text-accent"><a
                            href="https://www.pef.czu.cz/cs/r-7008-studium/r-7021-studijni-programy/r-7484-bakalarske-studium/r-7626-informatika-info"
                            target=”_blank”>INFOP</a></span>.
                    This course project expands our knowledge in markup languages.</br>
                    It is forbidden to use side framework, libraries and other features for this web.
                    Everything you see here is designed using vanila <span class="section__text-accent"><a
                            href="https://developer.mozilla.org/en-US/docs/Web/HTML" target=”_blank”>HTML</a></span>,
                    <span class="section__text-accent"><a href="https://developer.mozilla.org/en-US/docs/Web/CSS"
                            target=”_blank”>CSS</a></span> and a bit of <span class="section__text-accent"><a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript"
                            target=”_blank”>magic</a></span>.
                    </br>So, let's see what is it... our "JustCookIT"
                </p>
            </section>
            <section id="How_it_works" class="section__container" itemscope itemtype="https://schema.org/CreativeWork">
                <h1 class="section__title" itemprop="headline">How it works?</h1>
                <p class="section__text" itemprop="abstract">
                    So, welcome to our website, here is a library of dishes from all over the world. Each time the page
                    is refreshed, the recipes at the bottom will be updated, so don't forget to rewrite them as soon as
                    possible (or at least rewrite the name). After you click on one of the tags at the top of the page,
                    a list of delicious dishes of this country will appear. We are glad to welcome you, and wish you a
                    pleasant appetite.</br>

                    Magic happens on this site, or as it is now called processing responses from the server. For these
                    magical transformations, we need the horn of a single unicorn, and the saliva of a beaver....</br>
                    No,
                    it's just an open API <span class="section__text-accent"><a href="https://www.themealdb.com/api.php"
                            target=”_blank”>https://www.themealdb.com/api.php</a></span>
                </p>
            </section>
            <section style="display: none;" id="meals" class="meals section__container" itemscope
                itemtype="https://schema.org/CreativeWork">
                <h1 class="section__title">Try this next time</h1>
                <div id="meals_by_area" class="meals__container content_container">
                    <!-- Dynamical content -->

                    <!-- ----------------- -->
                    <div class="meals__item tag">
                        ${element}
                    </div>
                </div>
            </section>
            <section style="display: none;" id="recipes" class="recipes section_container">
                <h1 class="section__title">We found for you something</h1>
                <div id="fetched_recipes" class="recipes__container">
                    <!-- Dynamical content -->

                    <!-- Static content(is not visible if contection is good) -->
                    <div itemscope itemtype="https://schema.org/Recipe" class="recipe__item content_container">
                        <h3 itemprop="name" class="recipe__item-title">
                            Stuffed Bell Peppers with Quinoa and Black Beans <!-- Name of the recipe -->
                        </h3>
                        <div class="hide_container-instructions">
                            <div class="recipe__item-instruction">
                                <p itemprop="recipeInstructions" class="recipe__instruction">
                                    Preheat your oven to 375°F (190°C). Lightly grease a 9x13-inch baking dish or a
                                    similar-sized casserole dish.
                                    Place the bell pepper halves in the prepared baking dish, cut side up. Bake for
                                    15-20 minutes, or until slightly softened.
                                    While the bell peppers are baking, prepare the filling. In a large skillet, heat the
                                    olive oil over medium heat. Add the chopped onion, and cook for 3-4 minutes, until
                                    softened. Add the garlic, and cook for another 1 minute, until fragrant.
                                    Stir in the cooked quinoa, black beans, corn, diced tomatoes, ground cumin, chili
                                    powder, smoked paprika, salt, and pepper. Cook for 5-7 minutes, until heated
                                    through. Remove the skillet from heat, and stir in 1 cup of the shredded cheese, if
                                    using.
                                    Remove the bell peppers from the oven, and carefully stuff each pepper half with the
                                    quinoa and black bean mixture. Top the stuffed peppers with the remaining 1/2 cup of
                                    shredded cheese, if using.
                                    Return the stuffed peppers to the oven, and bake for another 15-20 minutes, until
                                    the cheese is melted and the peppers are tender.
                                    Remove from the oven, and allow the stuffed peppers to cool for 5 minutes before
                                    serving. Garnish with fresh chopped cilantro.
                                </p>
                            </div>
                        </div>
                        <div class="hide_container-tags">

                            <hr />
                            <div class="recipe__item-tags slider">
                                <ul>
                                    <li itemprop="recipeCategory" class="recipe__item-tag tag">
                                        Vegetarian <!-- Category of the recipe -->
                                    </li>
                                    <li itemprop="recipeCuisine" class="recipe__item-tag tag">
                                        Mexican <!-- Country of the recipe -->
                                    </li>
                                    <li itemprop="recipeYield" class="recipe__item-tag tag">
                                        4 servings <!-- Number of person serves for -->
                                    </li>
                                    <li itemprop="sutableForDiet" class="recipe__item-tag tag">
                                        Vegan <!-- Info about the diet -->
                                    </li>
                                    <li itemprop="nutrition" class="recipe__item-tag tag">
                                        Proteins 10g / Fats 5g / Carbs 30g <!-- Nutrition info about the recipe -->
                                    </li>
                                </ul>
                            </div>
                            <hr />
                            <div class="recipe__item-tags slider">
                                <ul>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Olive Oil - 1
                                        tablespoon</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Onion - 1 small finely
                                        diced</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Garlic - 2 cloves
                                        minced</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Quinoa - 1 cup</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Black Beans - 1 can
                                    </li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Sweetcorn - 1 cup</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Diced Tomatoes - 1 can
                                    </li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Cumin - 1 teaspoon</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Green Pepper - 4 whole
                                    </li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Chili Powder - ½ tsp
                                    </li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Smoked Paprika - ½ tsp
                                    </li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Salt - To taste</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Pepper - To taste</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Shredded Mexican Cheese
                                        - 1 1/2 cup</li>
                                    <li itemprop="recipeIngredient" class="recipe__item-tag tag">Cilantro - Chopped</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div itemscope itemtype="https://schema.org/Recipe" class="recipe__item content_container">
                        <h3 itemprop="name" class="recipe__item-title">
                            Pasta Carbonara
                        </h3>
                        <div class="hide_container-instructions">
                            <div class="recipe__item-instruction">
                                <p itemprop="recipeInstructions" class="recipe__instruction">
                                    Cook the pasta according to package instructions until al dente. In a separate bowl,
                                    whisk together eggs, grated Parmesan cheese, and black pepper.
                                    In a skillet, cook diced pancetta until crispy. Remove from heat and add cooked
                                    pasta directly to the skillet with the pancetta, tossing to combine.
                                    Pour the egg mixture over the pasta and pancetta, tossing continuously until the
                                    eggs thicken and coat the pasta evenly.
                                    Serve immediately with additional grated Parmesan cheese and chopped parsley for
                                    garnish.
                                </p>
                            </div>
                        </div>
                        <div class="hide_container-tags">
                            <hr />
                            <div class="recipe__item-tags">
                                <p itemprop="recipeCategory" class="recipe__item-tag tag">
                                    Italian
                                </p>
                                <p itemprop="recipeCuisine" class="recipe__item-tag tag">
                                    Italian
                                </p>
                                <p itemprop="recipeYield" class="recipe__item-tag tag">
                                    4 servings
                                </p>
                                <p itemprop="sutableForDiet" class="recipe__item-tag tag">
                                    None
                                </p>
                                <p itemprop="nutrition" class="recipe__item-tag tag">
                                    Proteins 20g / Fats 15g / Carbs 40g
                                </p>
                            </div>
                            <hr />
                            <div class="recipe__item-tags slider">
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Spaghetti - 400g</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Eggs - 4 large</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Parmesan Cheese - 1 cup
                                    grated</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Black Pepper - To taste</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Pancetta - 200g diced</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Fresh Parsley - Chopped for
                                    garnish</p>
                            </div>
                        </div>
                    </div>


                    <div itemscope itemtype="https://schema.org/Recipe" class="recipe__item content_container">
                        <h3 itemprop="name" class="recipe__item-title">
                            Chicken Stir-Fry
                        </h3>
                        <div class="hide_container-instructions">
                            <div class="recipe__item-instruction">
                                <p itemprop="recipeInstructions" class="recipe__instruction">
                                    In a wok or large skillet, heat vegetable oil over high heat. Add thinly sliced
                                    chicken breast and stir-fry until cooked through.
                                    Add sliced bell peppers, broccoli florets, and sliced carrots to the skillet,
                                    continuing to stir-fry until vegetables are tender-crisp.
                                    In a small bowl, whisk together soy sauce, oyster sauce, garlic, and ginger. Pour
                                    the sauce over the chicken and vegetables, tossing to coat evenly.
                                    Serve immediately over cooked rice or noodles, garnished with sliced green onions
                                    and sesame seeds.
                                </p>
                            </div>
                        </div>
                        <div class="hide_container-tags">
                            <hr />
                            <div class="recipe__item-tags">
                                <p itemprop="recipeCategory" class="recipe__item-tag tag">
                                    Asian
                                </p>
                                <p itemprop="recipeCuisine" class="recipe__item-tag tag">
                                    Asian
                                </p>
                                <p itemprop="recipeYield" class="recipe__item-tag tag">
                                    4 servings
                                </p>
                                <p itemprop="sutableForDiet" class="recipe__item-tag tag">
                                    Gluten-Free
                                </p>
                                <p itemprop="nutrition" class="recipe__item-tag tag">
                                    Proteins 25g / Fats 10g / Carbs 30g
                                </p>
                            </div>
                            <hr />
                            <div class="recipe__item-tags slider">
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Chicken Breast - 500g thinly
                                    sliced</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Bell Peppers - 2 cups sliced
                                </p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Broccoli Florets - 2 cups
                                </p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Carrots - 1 cup sliced</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Vegetable Oil - 2
                                    tablespoons</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Soy Sauce - 1/4 cup</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Oyster Sauce - 2 tablespoons
                                </p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Garlic - 2 cloves minced</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Ginger - 1 teaspoon minced
                                </p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Green Onions - Sliced for
                                    garnish</p>
                                <p itemprop="recipeIngredient" class="recipe__item-tag tag">Sesame Seeds - For garnish
                                </p>
                            </div>
                        </div>
                    </div>
                    <!-- ----------------- -->
                </div>
            </section>
        </div>
    </main>
    <footer>
        <div class="segundo_wrap">
            <div class="footer__items">
                <div class="footer__container">
                    <div id="links_to_us" class="footer__container-liks" itemscope itemtype="https://schema.org/CreativeWork">
                        <p class="liks_to_us-title"></p>
                        <ul class="liks_to_us-links">
                            <li class="mailLink__item-member" itemprop="author">
                                <address><a href="mailto:xkagp001@studenti.czu.cz">Polina Kagarlykskaia</a></address>
                            </li>
                            <li class="mailLink__item-member" itemprop="author">
                                <address><a href="mailto:xeren003@studenti.czu.cz">Natalia Eremina</a></address>
                            </li>
                            <li class="mailLink__item-member" itemprop="creator">
                                <address><a href="mailto:xelkn001@studenti.czu.cz">Nikita Elkin</a></address>
                            </li>
                        </ul>
                    </div>
                    <div class="footer__container-licenses">
                        <ul>
                            <li><a target="_blank" href="https://www.reshot.com/license/">reshot.com</a></li>
                            <li><a target="_blank" href="https://schema.org/">schema.org</a></li>
                            <li><a target="_blank" href="https://www.themealdb.com/api.php">themealdb.com</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer__item footer__item-copyright">
                    <span itemprop="copyrightHolder">JustCookIT student's project</span>, <br /><span
                        itemprop="copyrightNotice">All rights reserved</span>, <span
                        itemprop="copyrightYear">2024</span>
                </div>

            </div>
        </div>
    </footer>















    <script>
        async function fetchRandomRecipes(count = 5) {
            const container = document.getElementById('fetched_recipes'); // Assuming a container element

            try {
                const responses = []; // Array to store multiple fetch responses
                for (let i = 0; i < count; i++) {
                    const response = await fetch('https://www.themealdb.com/api/json/v1/1/random.php');
                    responses.push(response);
                }

                // Process each response and display data
                const recipeHtml = [];
                for (const response of responses) {
                    const data = await response.json();
                    const meal = data.meals[0];
                    // new fragment

                    let ingredientsHtml = '';
                    for (let i = 1; i <= 20; i++) {
                        const ingredient = meal[`strIngredient${i}`];
                        const measure = meal[`strMeasure${i}`];
                        if (ingredient && measure) {
                            ingredientsHtml += `<li itemprop="recipeIngredient" class="recipe__item-tag tag">${ingredient} - ${measure}</li>`;
                        }
                    }

                    // end of new fragmment 
                    recipeHtml.push(`
                    <div itemscope itemtype="https://schema.org/Recipe" class="recipe__item content_container">
                        <h3 itemprop="name" class="recipe__item-title">
                            ${meal.strMeal}
                        </h3>
                        <div class="hide_container-instructions">
                            <div class="recipe__item-instruction">
                                <p itemprop="recipeInstructions" class="recipe__instruction">
                                    ${meal.strInstructions}
                                </p>
                            </div>
                        </div>
                        <div class="hide_container-tags">
                            <hr/>
                            <div class="recipe__item-tags slider">
                                <ul>
                                    <li itemprop="recipeCategory" class="recipe__item-tag tag">
                                        ${meal.strCategory}
                                    </li> 
                                    <li itemprop="recipeCuisine" class="recipe__item-tag tag">
                                        ${meal.strArea}
                                    </li>                
                                </ul>
                            </div>
                            <hr/>
                            <div class="recipe__item-tags slider">
                                <ul>
                                ${ingredientsHtml}  
                                </ul> 
                            </div>
                            <hr/>
                            <ul class="recipe__item-tags">
                                <li class="recipe__item-tag tag"><a itemprop="recipeInstructions" href="${meal.strYoutube}" target=”_blank”>click to video</a></li>
                                <li class="recipe__item-tag tag" itemscope itemtype="https://schema.org/CreativeWork"><a itemprop="isBasedOn" href="${meal.strSource}" target=”_blank”>resource</a></li>
                            </ul>
                        </div>
                    </div>
                    `);
                }
                container.innerHTML = recipeHtml.join(''); // Combine and display all recipes
            } catch (error) {
                console.error('Error fetching data:', error);

            }
        }

        async function fetchMealsByAria(content, event) {
            event.preventDefault(); // block redirection after click
            try {
                console.log("Link content:", content); // log the content
                const mealsList = [];

                // fetching and handling
                const response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${content}`);
                const data = await response.json();
                if (data.meals) { // check if data.meals is not null
                    data.meals.forEach(meal => mealsList.push(meal.strMeal));
                } else {
                    console.log("No meals found."); // not found log
                }
                console.log(mealsList);

                const container = document.getElementById('meals_by_area');
                const mealsHtml = [];

                mealsList.forEach(element => {

                    mealsHtml.push(`
                    <div class="meals__item tag">
                        ${element}
                    </div>
                    `);
                })
                container.innerHTML = mealsHtml.join('');
                console.log("Meals List:", mealsList);

            } catch (error) {
                console.error("Error fetching data:", error);
                console.log("Fetching error, Only static content will be wisible");
            }
            document.getElementById('meals').style.display = "block";
        }

        function showFetchedMealsByArea(content, event) {
            event.preventDefault();
            if (navigator.onLine) {
                fetchMealsByAria(content, event);
            }
            else {
                window.alert("sorry, no connection...\n let's try nex time :)");
            }
        }
        fetchRandomRecipes(); // Call the function to fetch and display recipes
        document.getElementById('recipes').style.display = "block";
    </script>
</body>

</html>